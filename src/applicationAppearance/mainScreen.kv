RootWidget:
    container: container

    popup_invalid_data: popup_invalid_data

    BoxLayout:
        id: container
        orientation: "vertical"
        padding: 5
        spacing: 10

        Popup:
            id: popup_invalid_data
            title: "Invalid username/password!"
            on_parent:
                if self.parent == container: self.parent.remove_widget(self)

            BoxLayout:
                orientation: "vertical"
                padding: 5
                spacing: 10

                TextInput:
                    text: "Invalid username / password!"
                    readonly: True

                Button:
                    size_hint_y: 0.12
                    text: "Press to dismiss"
                    on_release: popup_invalid_data.dismiss()

        GridLayout:
            cols: 2
            padding: 5
            spacing: 10

            Widget:
                id: widget_canvas

                canvas:
                    Rectangle:
                        group: "rectangle"
                        pos: self.pos
                        size: self.size

                on_parent: root.load_captcha()

            TextInput:
                id: text_input_captcha
                multiline: False

            Label:
                text: "Username:"

            TextInput:
                id: text_input_username
                multiline: False
                disabled: True

            Label:
                text: "Password:"

            TextInput:
                id: text_input_password
                password: True
                multiline: False
                disabled: True

        Button:
            size_hint_y: 0.12
            text: "Sign in"
            on_release: root.login_in(text_input_username.text, text_input_password.text)