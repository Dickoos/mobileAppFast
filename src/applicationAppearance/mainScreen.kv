RootWidget:
    popup: popup

    text_input_username: text_input_username
    text_input_password: text_input_password

    BoxLayout:
        id: main_layout
        orientation: "vertical"

        Popup:
            id: popup
            title: "Invalid username/password!"
            on_parent:
                if self.parent == main_layout: self.parent.remove_widget(self)

            BoxLayout:
                orientation: "vertical"

                TextInput:
                    text: "Invalid username / password!"
                    readonly: True

                Button:
                    size_hint_y: 0.12
                    text: "Press to dismiss"
                    on_release: popup.dismiss()

        GridLayout:
            cols: 2

            Label:
                text: "Username:"

            TextInput:
                id: text_input_username
                multiline: False

            Label:
                text: "Password:"

            TextInput:
                id: text_input_password
                password: True
                multiline: False

        Button:
            size_hint_y: 0.12
            text: "Sign in"
            on_release: root.button_sign_in()